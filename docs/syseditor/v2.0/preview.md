# 预览功能

组态预览模块是可视化组态平台的核心功能，支持用户在配置完成后，实时查看画布中各类元件的布局效果与业务逻辑联动状态。预览模式下，画布完整还原设计态的元件层级与样式，支持通过点击、拖拽等交互操作验证元件响应逻辑；同时可接入实时 / 模拟数据源，实现数据驱动的元件状态变更（如数值刷新、颜色切换、图表动态渲染），直观展示动效配置成果（如元件闪烁、平滑过渡、动画序列），帮助用户快速校验组态方案的视觉呈现与业务功能一致性。

组态预览模块主要包含以下功能：

## 1. 预览方法

### 1.1 实时预览

实时预览可以通过以下步骤进行：

1. 在组态编辑器中编辑组态画面
2. 实时预览会自动显示在画布区域
3. 可以通过调整视图缩放比例查看不同细节
4. 可以通过移动画布查看不同区域

### 1.2 全屏预览

全屏预览可以通过以下步骤进行：

1. 点击顶部工具栏的"预览"按钮
2. 组态画面会在新窗口中以全屏模式显示
3. 可以通过键盘方向键或鼠标拖拽查看不同区域
4. 可以点击窗口右上角的关闭按钮退出全屏预览

## 2. 预览功能

### 2.1 交互测试

在预览模式下，可以测试组件的交互效果，主要支持鼠标单击和双击操作：

- **单击测试**：测试按钮、链接等可点击组件的效果
- **双击测试**：测试需要双击触发的组件效果

### 2.2 数据联动

预览功能主要根据配置的设备数据来展示动态效果：

- **设备数据绑定**：交互组件与配置的设备数据绑定，实现数据联动
- **实时数据更新**：设备数据变化时，组件会实时更新显示
- **多设备支持**：支持多个设备和属性的数据联动

### 2.3 事件动作

预览模式下，组件支持的动作主要有：

- **打开侧边数据面板**：点击组件时打开设备数据面板
- **下发设备数据**：点击组件时向设备下发控制指令，支持多个设备和属性

### 2.4 动效交互

预览模式下，组件支持的动效交互主要有：

- **隐藏/显示**：根据绑定的设备数据控制组件的显示或隐藏
- **闪烁效果**：根据绑定的设备数据控制组件的闪烁效果

## 3. 预览最佳实践

1. **频繁预览**：在编辑过程中频繁使用预览功能，及时发现问题
2. **数据联动测试**：重点测试交互组件与设备数据的联动效果
3. **交互动作测试**：测试组件的单击和双击动作是否正常
4. **动效测试**：测试组件的隐藏和闪烁效果是否符合预期
5. **多设备测试**：测试多个设备和属性的数据联动效果
6. **功能完整性测试**：测试所有功能是否正常工作

## 4. 常见问题

### 4.1 预览画面与编辑画面不一致怎么办？

- 检查组件的属性设置是否正确
- 检查设备数据配置是否正确
- 检查脚本逻辑是否正确
- 刷新预览画面

### 4.2 设备数据不更新怎么办？

- 检查设备是否在线
- 检查数据源配置是否正确
- 检查数据更新频率设置
- 检查网络连接是否正常

### 4.3 交互动作不生效怎么办？

- 检查事件配置是否正确
- 检查动作设置是否正确
- 检查设备连接是否正常

### 4.4 动效不显示怎么办？

- 检查动效配置是否正确
- 检查设备数据是否满足动效触发条件
- 检查动效参数设置是否正确

通过合理使用预览功能，可以验证组态的正确性和完整性，确保交互组件与设备数据的联动效果符合预期，为最终发布做好准备。