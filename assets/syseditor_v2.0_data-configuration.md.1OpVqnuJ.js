import{_ as l,c as i,o as a,a2 as o}from"./chunks/framework.DpuVf8Pb.js";const t="/nw-doc/assets/data1.3t4adnUF.png",r="/nw-doc/assets/data2.Mpqp5crM.png",n="/nw-doc/assets/func1.eBnjzESq.png",e="/nw-doc/assets/event1.CBCV_YiT.png",s="/nw-doc/assets/event2.DXmNBI4e.png",h="/nw-doc/assets/effect1.BCpU2sOQ.png",P=JSON.parse('{"title":"数据配置","description":"","frontmatter":{},"headers":[],"relativePath":"syseditor/v2.0/data-configuration.md","filePath":"syseditor/v2.0/data-configuration.md"}'),u={name:"syseditor/v2.0/data-configuration.md"},d=o('<h1 id="数据配置" tabindex="-1">数据配置 <a class="header-anchor" href="#数据配置" aria-label="Permalink to &quot;数据配置&quot;">​</a></h1><p>数据配置是组态编辑器中的核心功能之一，通过将设备数据与画布元素关联，可以创建出动态、交互的组态画面。本文将详细介绍数据配置的各个方面，包括前置条件、数据源配置、功能配置、事件配置和动效配置等。</p><h2 id="_1-前置条件" tabindex="-1">1. 前置条件 <a class="header-anchor" href="#_1-前置条件" aria-label="Permalink to &quot;1. 前置条件&quot;">​</a></h2><p>前置条件配置允许您为组件添加条件判断逻辑，只有当满足特定条件时，组件才会执行相应的功能或显示特定的效果。 <strong>ps:流动条组件独有</strong></p><p><img src="'+t+'" alt="前置条件"></p><h3 id="_1-1-配置入口" tabindex="-1">1.1 配置入口 <a class="header-anchor" href="#_1-1-配置入口" aria-label="Permalink to &quot;1.1 配置入口&quot;">​</a></h3><ol><li>选择需要配置前置条件的画布元素</li><li>在右侧属性面板中找到&quot;前置条件&quot;配置项</li><li>开启&quot;前置条件配置&quot;开关</li><li>点击设置图标打开前置条件配置弹窗</li></ol><h3 id="_1-2-配置界面" tabindex="-1">1.2 配置界面 <a class="header-anchor" href="#_1-2-配置界面" aria-label="Permalink to &quot;1.2 配置界面&quot;">​</a></h3><p>前置条件配置弹窗包含以下主要元素：</p><ul><li><strong>变量配置</strong>：添加和管理用于条件判断的变量</li><li><strong>公式配置</strong>：编写条件判断公式</li><li><strong>测试变量值</strong>：测试公式的计算结果</li><li><strong>操作符</strong>：提供各种比较和逻辑操作符</li></ul><h3 id="_1-3-配置步骤" tabindex="-1">1.3 配置步骤 <a class="header-anchor" href="#_1-3-配置步骤" aria-label="Permalink to &quot;1.3 配置步骤&quot;">​</a></h3><ol><li>点击&quot;添加变量&quot;按钮，选择设备和属性</li><li>在公式输入框中编写条件判断公式，如：<code>[4g空调测试开关]&gt;2</code></li><li>在&quot;测试变量值&quot;输入框中输入测试值，验证公式结果，结果需要为布尔值</li><li>点击&quot;确认&quot;按钮保存配置</li></ol><h3 id="_1-4-支持的操作符" tabindex="-1">1.4 支持的操作符 <a class="header-anchor" href="#_1-4-支持的操作符" aria-label="Permalink to &quot;1.4 支持的操作符&quot;">​</a></h3><ul><li><strong>比较操作符</strong>：大于(&gt;)、大于等于(&gt;=)、小于(&lt;)、小于等于(&lt;=)、等于(===)、不等于(!==)</li><li><strong>逻辑操作符</strong>：逻辑与(&amp;&amp;)、逻辑或(||)</li><li><strong>一般操作</strong>：括号()</li></ul><h3 id="_1-5-使用场景" tabindex="-1">1.5 使用场景 <a class="header-anchor" href="#_1-5-使用场景" aria-label="Permalink to &quot;1.5 使用场景&quot;">​</a></h3><ul><li>仅当设备温度超过阈值时显示警告</li><li>仅当设备处于运行状态时显示控制按钮</li><li>仅当多个条件同时满足时触发动作</li></ul><h2 id="_2-数据源配置" tabindex="-1">2. 数据源配置 <a class="header-anchor" href="#_2-数据源配置" aria-label="Permalink to &quot;2. 数据源配置&quot;">​</a></h2><p>数据源配置允许您为图形绑定数据，可以选择单个设备的属性，也可以通过变量与公式配置进行数据计算。</p><h3 id="_2-1-单个设备属性配置" tabindex="-1">2.1 单个设备属性配置 <a class="header-anchor" href="#_2-1-单个设备属性配置" aria-label="Permalink to &quot;2.1 单个设备属性配置&quot;">​</a></h3><h4 id="_2-1-1-配置步骤" tabindex="-1">2.1.1 配置步骤 <a class="header-anchor" href="#_2-1-1-配置步骤" aria-label="Permalink to &quot;2.1.1 配置步骤&quot;">​</a></h4><ol><li>选择需要配置数据源的画布元素</li><li>在右侧属性面板中找到&quot;数据源&quot;配置项</li><li>开启&quot;数据源&quot;开关</li><li>点击&quot;选择&quot;按钮，打开设备选择模态框</li><li>在模态框中可以通过搜索、筛选等方式查找设备</li><li>选择一个设备，点击确定按钮</li><li>在属性下拉框中选择要绑定的设备属性</li><li>配置数据格式和显示方式</li></ol><h4 id="_2-1-2-设备属性类型" tabindex="-1">2.1.2 设备属性类型 <a class="header-anchor" href="#_2-1-2-设备属性类型" aria-label="Permalink to &quot;2.1.2 设备属性类型&quot;">​</a></h4><p>选择设备后，系统会自动获取该设备的所有属性列表，包括：</p><ul><li><strong>设备基本信息</strong>：设备名称、型号、位置等</li><li><strong>设备状态属性</strong>：运行状态、在线状态等</li><li><strong>可控制属性</strong>：可以通过组态编辑器控制的属性</li><li><strong>测量属性</strong>：设备采集的各种测量数据</li></ul><h3 id="_2-2-变量与公式配置" tabindex="-1">2.2 变量与公式配置 <a class="header-anchor" href="#_2-2-变量与公式配置" aria-label="Permalink to &quot;2.2 变量与公式配置&quot;">​</a></h3><p>变量与公式配置允许您通过多个设备变量进行计算，得到新的数据值。</p><p><img src="'+r+'" alt="变量与公式配置"></p><h4 id="_2-2-1-配置入口" tabindex="-1">2.2.1 配置入口 <a class="header-anchor" href="#_2-2-1-配置入口" aria-label="Permalink to &quot;2.2.1 配置入口&quot;">​</a></h4><ol><li>选择需要配置变量与公式的画布元素</li><li>在右侧属性面板中找到&quot;数据源&quot;配置项</li><li>开启&quot;变量与公式配置&quot;开关</li><li>点击公式内容右侧的设置图标，打开变量与公式配置弹窗</li></ol><h4 id="_2-2-2-配置界面" tabindex="-1">2.2.2 配置界面 <a class="header-anchor" href="#_2-2-2-配置界面" aria-label="Permalink to &quot;2.2.2 配置界面&quot;">​</a></h4><p>变量与公式配置弹窗包含以下主要元素：</p><ul><li><strong>变量配置</strong>：添加和管理用于计算的变量</li><li><strong>公式配置</strong>：编写数据计算公式</li><li><strong>测试变量值</strong>：测试公式的计算结果</li><li><strong>操作符</strong>：提供各种算术操作符</li><li><strong>常用函数</strong>：提供常用的数学函数</li></ul><h4 id="_2-2-3-配置步骤" tabindex="-1">2.2.3 配置步骤 <a class="header-anchor" href="#_2-2-3-配置步骤" aria-label="Permalink to &quot;2.2.3 配置步骤&quot;">​</a></h4><ol><li>点击&quot;添加变量&quot;按钮，选择设备和属性</li><li>在公式输入框中编写计算公式，如：<code>{4g空调测试温度}*2</code></li><li>支持使用算术操作符和常用函数</li><li>在&quot;测试变量值&quot;输入框中输入要测试的变量值</li><li>点击&quot;检验公式&quot;按钮，系统会检查公式语法是否正确</li><li>点击&quot;计算结果&quot;按钮，系统会根据输入的测试值计算公式结果</li><li>点击&quot;确认&quot;按钮保存配置</li></ol><h4 id="_2-2-4-支持的操作符和函数" tabindex="-1">2.2.4 支持的操作符和函数 <a class="header-anchor" href="#_2-2-4-支持的操作符和函数" aria-label="Permalink to &quot;2.2.4 支持的操作符和函数&quot;">​</a></h4><ul><li><strong>算术操作符</strong>：加(+)、减(-)、乘(*)、除(/)、取余(%)、括号()</li><li><strong>常用函数</strong>： <ul><li>四舍五入 round()</li><li>向上取整 ceil()</li><li>向下取整 floor()</li><li>绝对值 abs()</li><li>最大值 max()</li><li>最小值 min()</li><li>开方 sqrt()</li><li>幂运算 pow()</li></ul></li></ul><h2 id="_3-功能配置" tabindex="-1">3. 功能配置 <a class="header-anchor" href="#_3-功能配置" aria-label="Permalink to &quot;3. 功能配置&quot;">​</a></h2><p>功能配置允许您根据绑定的数据设置图形的具体功能，不同类型的图形有不同的功能配置选项。</p><h3 id="_3-1-配置入口" tabindex="-1">3.1 配置入口 <a class="header-anchor" href="#_3-1-配置入口" aria-label="Permalink to &quot;3.1 配置入口&quot;">​</a></h3><ol><li>选择需要配置功能的画布元素</li><li>在右侧属性面板中找到&quot;功能&quot;配置项</li><li>根据图形类型，配置相应的功能参数</li><li>可以设置默认值和动态值</li></ol><h3 id="_3-2-常见功能配置" tabindex="-1">3.2 常见功能配置 <a class="header-anchor" href="#_3-2-常见功能配置" aria-label="Permalink to &quot;3.2 常见功能配置&quot;">​</a></h3><ul><li><strong>默认值设置</strong>：设置图形的初始状态值</li><li><strong>动态值绑定</strong>：将图形功能与数据源绑定，实现动态变化</li><li><strong>流动条功能设置</strong>：为线条添加流动动画效果</li><li><strong>状态切换功能</strong>：根据数据值切换图形的不同状态</li><li><strong>数值显示功能</strong>：在图形上显示绑定的数据值 <ul><li><strong>变量名称</strong>：变量名称，用于在预览中显示</li><li><strong>单位</strong>：可以选择是否显示数据单位</li><li><strong>显示单位</strong>：切换是否显示数据单位</li><li><strong>保留小数</strong>：可以设置显示的小数位数</li><li><strong>数据单位</strong>：可以添加自定义数据单位</li><li><strong>功能设置</strong>：不同的交互组件有不同的功能设置</li></ul></li><li><strong>颜色变化功能</strong>：根据数据值改变图形颜色</li></ul><h3 id="_3-3-功能配置示例" tabindex="-1">3.3 功能配置示例 <a class="header-anchor" href="#_3-3-功能配置示例" aria-label="Permalink to &quot;3.3 功能配置示例&quot;">​</a></h3><p>不同的交互图形的功能配置会有区别，请根据具体需求进行配置。</p><p><img src="'+n+'" alt="功能配置"></p><p><strong>示例：配置指示灯的状态显示</strong></p><ol><li>在画布中添加一个指示灯组件</li><li>配置数据源，选择设备和状态属性</li><li>在功能配置中设置： <ul><li>当状态值为&quot;1&quot;时，显示为绿色（运行）</li><li>当状态值为&quot;0&quot;时，显示为红色（停止）</li></ul></li><li>保存配置并预览效果</li></ol><h2 id="_4-事件配置" tabindex="-1">4. 事件配置 <a class="header-anchor" href="#_4-事件配置" aria-label="Permalink to &quot;4. 事件配置&quot;">​</a></h2><p>事件配置允许您为画布元素添加交互事件，实现点击元素时触发设备操作或打开数据面板等功能。</p><h3 id="_4-1-事件类型" tabindex="-1">4.1 事件类型 <a class="header-anchor" href="#_4-1-事件类型" aria-label="Permalink to &quot;4.1 事件类型&quot;">​</a></h3><ul><li><strong>点击事件</strong>：当用户点击画布元素时触发-选中才会触发</li><li><strong>双击事件</strong>：当用户双击画布元素时触发-选中才会触发</li></ul><h3 id="_4-2-事件动作" tabindex="-1">4.2 事件动作 <a class="header-anchor" href="#_4-2-事件动作" aria-label="Permalink to &quot;4.2 事件动作&quot;">​</a></h3><ul><li><p><strong>打开侧边数据面板</strong>：点击元素时打开设备数据面板 <img src="'+e+'" alt="打开侧边数据面板"></p></li><li><p><strong>下发设备数据</strong>：点击元素时向设备下发控制指令，支持多个设备和属性</p><p><img src="'+s+'" alt="下发控制配置"></p><ol><li>在事件配置中选择&quot;下发设备数据&quot;动作</li><li>点击&quot;新增&quot;按钮，添加控制指令</li><li>为每个控制指令选择设备和属性</li><li>设置控制值</li><li>可以添加多个控制指令，实现对多个设备和属性的批量控制</li></ol></li></ul><h3 id="_4-3-事件配置示例" tabindex="-1">4.3 事件配置示例 <a class="header-anchor" href="#_4-3-事件配置示例" aria-label="Permalink to &quot;4.3 事件配置示例&quot;">​</a></h3><p><strong>示例 1：点击按钮控制设备开关</strong></p><ol><li>在画布中添加一个按钮组件</li><li>配置按钮的点击事件</li><li>选择&quot;下发设备数据&quot;动作</li><li>选择设备和开关属性</li><li>设置控制值为&quot;1&quot;（开）</li><li>同样的方式添加一个关闭按钮，设置控制值为&quot;0&quot;</li></ol><p><strong>示例 2：双击图表打开数据面板</strong></p><ol><li>在画布中添加一个图表组件</li><li>配置图表的双击事件</li><li>选择&quot;打开侧边数据面板&quot;动作</li><li>选择要显示的设备和属性</li><li>点击保存完成配置</li></ol><h2 id="_5-动效配置" tabindex="-1">5. 动效配置 <a class="header-anchor" href="#_5-动效配置" aria-label="Permalink to &quot;5. 动效配置&quot;">​</a></h2><p>动效配置允许您为画布元素添加动画效果，根据设备数据动态改变元素外观。 <img src="'+h+'" alt="动效配置"></p><h3 id="_5-1-效果类型" tabindex="-1">5.1 效果类型 <a class="header-anchor" href="#_5-1-效果类型" aria-label="Permalink to &quot;5.1 效果类型&quot;">​</a></h3><ul><li><strong>隐藏/显示</strong>：根据绑定的设备数据控制组件的显示或隐藏</li><li><strong>闪烁效果</strong>：根据绑定的设备数据控制组件的闪烁效果</li></ul><h3 id="_5-2-效果配置步骤" tabindex="-1">5.2 效果配置步骤 <a class="header-anchor" href="#_5-2-效果配置步骤" aria-label="Permalink to &quot;5.2 效果配置步骤&quot;">​</a></h3><ol><li>选择需要配置动效的画布元素</li><li>在右侧属性面板的&quot;效果&quot;配置项中点击&quot;添加效果&quot;</li><li>选择效果类型（隐藏/显示或闪烁效果）</li><li>配置效果触发条件</li><li>设置效果参数</li><li>可以添加多个效果，实现复杂的动态效果</li></ol><h3 id="_5-3-效果配置示例" tabindex="-1">5.3 效果配置示例 <a class="header-anchor" href="#_5-3-效果配置示例" aria-label="Permalink to &quot;5.3 效果配置示例&quot;">​</a></h3><p><strong>示例 1：数据超限时显示闪烁效果</strong></p><ol><li>选择温度显示组件</li><li>添加&quot;闪烁效果&quot;</li><li>设置条件：当温度 &gt; 80℃ 时开始闪烁</li><li>保存配置并预览效果</li></ol><p><strong>示例 2：设备离线时隐藏组件</strong></p><ol><li>选择设备状态显示组件</li><li>添加&quot;隐藏/显示&quot;效果</li><li>设置条件：当设备在线状态为&quot;离线&quot;时隐藏组件</li><li>保存配置并预览效果</li></ol><h2 id="_6-数据配置技巧" tabindex="-1">6. 数据配置技巧 <a class="header-anchor" href="#_6-数据配置技巧" aria-label="Permalink to &quot;6. 数据配置技巧&quot;">​</a></h2><h3 id="_6-1-快速配置" tabindex="-1">6.1 快速配置 <a class="header-anchor" href="#_6-1-快速配置" aria-label="Permalink to &quot;6.1 快速配置&quot;">​</a></h3><ul><li><strong>使用复制配置</strong>：可以复制一个元素的数据配置到另一个元素</li><li><strong>使用模板</strong>：将配置好的数据关联保存为模板，方便后续使用</li><li><strong>批量配置</strong>：选中多个元素，同时配置数据</li></ul><h3 id="_6-2-性能优化" tabindex="-1">6.2 性能优化 <a class="header-anchor" href="#_6-2-性能优化" aria-label="Permalink to &quot;6.2 性能优化&quot;">​</a></h3><ul><li><strong>合理设置数据更新频率</strong>：根据设备数据变化频率设置合适的更新频率</li><li><strong>减少不必要的数据绑定</strong>：只绑定必要的数据字段</li><li><strong>优化效果配置</strong>：避免过度使用复杂的动画效果</li><li><strong>使用缓存机制</strong>：对于不常变化的数据使用缓存</li></ul><h3 id="_6-3-故障排除" tabindex="-1">6.3 故障排除 <a class="header-anchor" href="#_6-3-故障排除" aria-label="Permalink to &quot;6.3 故障排除&quot;">​</a></h3><ul><li><strong>检查设备连接</strong>：确保设备在线且网络连接正常</li><li><strong>检查数据配置</strong>：确保数据源、字段选择正确</li><li><strong>检查权限设置</strong>：确保有访问设备数据的权限</li><li><strong>查看日志</strong>：通过浏览器控制台查看错误信息</li></ul><h2 id="_7-常见问题" tabindex="-1">7. 常见问题 <a class="header-anchor" href="#_7-常见问题" aria-label="Permalink to &quot;7. 常见问题&quot;">​</a></h2><h3 id="_7-1-为什么选择设备后没有属性列表" tabindex="-1">7.1 为什么选择设备后没有属性列表？ <a class="header-anchor" href="#_7-1-为什么选择设备后没有属性列表" aria-label="Permalink to &quot;7.1 为什么选择设备后没有属性列表？&quot;">​</a></h3><ul><li>检查设备是否在线</li><li>检查设备是否有可访问的属性</li><li>检查网络连接是否正常</li><li>检查设备权限设置</li></ul><h3 id="_7-2-设备数据不更新怎么办" tabindex="-1">7.2 设备数据不更新怎么办？ <a class="header-anchor" href="#_7-2-设备数据不更新怎么办" aria-label="Permalink to &quot;7.2 设备数据不更新怎么办？&quot;">​</a></h3><ul><li>检查设备是否在线</li><li>检查数据源配置是否正确</li><li>检查数据更新频率设置</li><li>检查网络连接是否正常</li><li>检查浏览器控制台是否有错误信息</li></ul><h3 id="_7-3-如何批量配置设备" tabindex="-1">7.3 如何批量配置设备？ <a class="header-anchor" href="#_7-3-如何批量配置设备" aria-label="Permalink to &quot;7.3 如何批量配置设备？&quot;">​</a></h3><ul><li>选中多个元素</li><li>在右侧属性面板中配置设备数据源</li><li>配置会应用到所有选中的元素</li><li>对于更复杂的批量配置，可以使用脚本实现</li></ul><h3 id="_7-4-如何实现多设备数据联动" tabindex="-1">7.4 如何实现多设备数据联动？ <a class="header-anchor" href="#_7-4-如何实现多设备数据联动" aria-label="Permalink to &quot;7.4 如何实现多设备数据联动？&quot;">​</a></h3><ul><li>配置一个主设备的数据绑定</li><li>使用数据映射或脚本实现与其他设备的数据联动</li><li>可以通过事件配置实现多设备控制</li></ul><h3 id="_7-5-公式计算结果不正确怎么办" tabindex="-1">7.5 公式计算结果不正确怎么办？ <a class="header-anchor" href="#_7-5-公式计算结果不正确怎么办" aria-label="Permalink to &quot;7.5 公式计算结果不正确怎么办？&quot;">​</a></h3><ul><li>检查公式语法是否正确</li><li>检查变量名称是否正确</li><li>检查测试变量值是否合理</li><li>检查使用的操作符和函数是否符合预期</li></ul><h3 id="_7-6-前置条件不生效怎么办" tabindex="-1">7.6 前置条件不生效怎么办？ <a class="header-anchor" href="#_7-6-前置条件不生效怎么办" aria-label="Permalink to &quot;7.6 前置条件不生效怎么办？&quot;">​</a></h3><ul><li>检查前置条件开关是否开启</li><li>检查公式语法是否正确</li><li>检查变量名称是否正确</li><li>检查测试条件是否满足</li></ul><h2 id="_8-数据配置最佳实践" tabindex="-1">8. 数据配置最佳实践 <a class="header-anchor" href="#_8-数据配置最佳实践" aria-label="Permalink to &quot;8. 数据配置最佳实践&quot;">​</a></h2><ol><li><strong>设备命名规范</strong>：使用清晰、唯一的设备命名，方便后续查找和管理</li><li><strong>数据字段命名规范</strong>：使用清晰、易懂的数据字段命名</li><li><strong>合理设置数据更新频率</strong>：根据设备数据变化频率设置合适的更新频率</li><li><strong>使用分组管理设备</strong>：将设备按照功能或区域分组，方便管理</li><li><strong>添加适当的效果</strong>：根据实际需求添加效果，避免过度使用导致性能问题</li><li><strong>定期备份配置</strong>：定期备份数据配置，避免配置丢失</li><li><strong>测试和验证</strong>：在发布前充分测试数据配置效果</li><li><strong>文档化配置</strong>：记录重要的数据配置信息，方便后续维护</li><li><strong>合理命名变量</strong>：使用清晰、易懂的变量名称，方便后续维护</li><li><strong>简化公式逻辑</strong>：尽量使用简单的公式，避免过于复杂的计算</li><li><strong>测试公式效果</strong>：在配置过程中经常测试公式结果，确保计算逻辑正确</li><li><strong>合理使用前置条件</strong>：只在必要时使用前置条件，避免过多的条件判断影响性能</li></ol><p>通过合理使用数据配置功能，您可以创建出功能丰富、动态交互的组态画面，实现对设备的有效监控和控制。数据配置是组态编辑器的核心功能之一，掌握好数据配置技巧对于创建高质量的组态画面至关重要。</p>',92),g=[d];function q(c,_,b,p,m,f){return a(),i("div",null,g)}const k=l(u,[["render",q]]);export{P as __pageData,k as default};
